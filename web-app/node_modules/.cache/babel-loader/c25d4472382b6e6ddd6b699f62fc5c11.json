{"ast":null,"code":"import _slicedToArray from\"/Users/toharayash/Desktop/technion/semester8/iot/iot-web-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Typography,Box,IconButton,Dialog,DialogTitle,DialogContent,DialogContentText,TextField,Button,DialogActions}from\"@mui/material\";import DeleteIcon from\"@mui/icons-material/Delete\";import AddCircleOutlineIcon from\"@mui/icons-material/AddCircleOutline\";import React,{useState}from\"react\";import{addStudentDoc,deleteRegistratioDoc}from\"../../firebase/dbRef\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var RegistrationItem=function RegistrationItem(_ref){var regDocId=_ref.regDocId,cardId=_ref.cardId,date=_ref.date,refetch=_ref.refetch;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalIsOpen=_useState2[0],setModalIsOpen=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),studentName=_useState4[0],setStudentName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),studentPerm=_useState6[0],setStudentPerm=_useState6[1];var handleChangeName=function handleChangeName(event){setStudentName(event.target.value);};var handleChangePrem=function handleChangePrem(event){setStudentPerm(event.target.value);};var handleRemove=function handleRemove(){deleteRegistratioDoc(regDocId);refetch();};var submitStudent=function submitStudent(){if(studentName===\"\"||studentPerm===\"\"){alert(\"You didnt enter any name or perm\");}else{addStudentDoc(cardId,{name:studentName,perm_level:studentPerm});deleteRegistratioDoc(regDocId);}setModalIsOpen(false);refetch();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-around\",alignItems:\"center\",margin:\"8px\",width:700,height:70,border:\"1px solid #0277bd\",borderRadius:\"20px\",backgroundColor:\"#e3f2fd\",\"&:hover\":{backgroundColor:\"#80d8ff\",opacity:[0.9,0.8,0.7]}},children:[/*#__PURE__*/_jsxs(Typography,{children:[\" \",cardId,\" \"]}),/*#__PURE__*/_jsxs(Typography,{children:[\" \",date,\" \"]}),/*#__PURE__*/_jsx(IconButton,{onClick:handleRemove,children:/*#__PURE__*/_jsx(DeleteIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return setModalIsOpen(true);},children:/*#__PURE__*/_jsx(AddCircleOutlineIcon,{})})]}),/*#__PURE__*/_jsxs(Dialog,{open:modalIsOpen,onClose:function onClose(){return setModalIsOpen(false);},children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Subscribe\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(DialogContentText,{children:\"To conect this card id to student name, just enter the student name here :)\"}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Enter Student Name\",type:\"text\",fullWidth:true,variant:\"standard\",onChange:handleChangeName}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Enter Student Permissions\",type:\"text\",fullWidth:true,variant:\"standard\",onChange:handleChangePrem})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setModalIsOpen(false);},children:\" Cancel \"}),/*#__PURE__*/_jsx(Button,{onClick:submitStudent,children:\" Submit \"})]})]})]});};","map":{"version":3,"names":["Typography","Box","IconButton","Dialog","DialogTitle","DialogContent","DialogContentText","TextField","Button","DialogActions","DeleteIcon","AddCircleOutlineIcon","React","useState","addStudentDoc","deleteRegistratioDoc","RegistrationItem","regDocId","cardId","date","refetch","modalIsOpen","setModalIsOpen","studentName","setStudentName","studentPerm","setStudentPerm","handleChangeName","event","target","value","handleChangePrem","handleRemove","submitStudent","alert","name","perm_level","display","flexDirection","justifyContent","alignItems","margin","width","height","border","borderRadius","backgroundColor","opacity"],"sources":["/Users/toharayash/Desktop/technion/semester8/iot/iot-web-app/src/components/RegistrationPage/RegistrationItem.tsx"],"sourcesContent":["import {\n  Typography,\n  Box,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  TextField,\n  Button,\n  DialogActions,\n} from \"@mui/material\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport AddCircleOutlineIcon from \"@mui/icons-material/AddCircleOutline\";\nimport React, { useState } from \"react\";\nimport { addStudentDoc, deleteRegistratioDoc } from \"../../firebase/dbRef\";\n\nexport interface RegistrationItemProps {\n  regDocId: string;\n  cardId: string;\n  date: string;\n  refetch: () => void;\n}\n\nexport const RegistrationItem: React.FC<RegistrationItemProps> = ({\n  regDocId,\n  cardId,\n  date,\n  refetch,\n}) => {\n  const [modalIsOpen, setModalIsOpen] = useState<boolean>(false);\n  const [studentName, setStudentName] = useState<string>(\"\");\n  const [studentPerm, setStudentPerm] = useState<string>(\"\");\n\n  const handleChangeName = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setStudentName(event.target.value);\n  };\n\n  const handleChangePrem = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setStudentPerm(event.target.value);\n  };\n\n  const handleRemove = () => {\n    deleteRegistratioDoc(regDocId);\n    refetch();\n  };\n\n  const submitStudent = () => {\n    if (studentName === \"\" || studentPerm === \"\") {\n      alert(\"You didnt enter any name or perm\");\n    } else {\n      addStudentDoc(cardId, {\n        name: studentName,\n        perm_level: studentPerm,\n      });\n      deleteRegistratioDoc(regDocId);\n    }\n    setModalIsOpen(false);\n    refetch();\n  };\n\n  return (\n    <>\n      <Box\n        sx={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"space-around\",\n          alignItems: \"center\",\n          margin: \"8px\",\n          width: 700,\n          height: 70,\n          border: \"1px solid #0277bd\",\n          borderRadius: \"20px\",\n          backgroundColor: \"#e3f2fd\",\n          \"&:hover\": {\n            backgroundColor: \"#80d8ff\",\n            opacity: [0.9, 0.8, 0.7],\n          },\n        }}\n      >\n        <Typography> {cardId} </Typography>\n        <Typography> {date} </Typography>\n        <IconButton onClick={handleRemove}>\n          <DeleteIcon />\n        </IconButton>\n        <IconButton onClick={() => setModalIsOpen(true)}>\n          <AddCircleOutlineIcon />\n        </IconButton>\n      </Box>\n      <Dialog open={modalIsOpen} onClose={() => setModalIsOpen(false)}>\n        <DialogTitle>Subscribe</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            To conect this card id to student name, just enter the student name\n            here :)\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Enter Student Name\"\n            type=\"text\"\n            fullWidth\n            variant=\"standard\"\n            onChange={handleChangeName}\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Enter Student Permissions\"\n            type=\"text\"\n            fullWidth\n            variant=\"standard\"\n            onChange={handleChangePrem}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setModalIsOpen(false)}> Cancel </Button>\n          <Button onClick={submitStudent}> Submit </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}