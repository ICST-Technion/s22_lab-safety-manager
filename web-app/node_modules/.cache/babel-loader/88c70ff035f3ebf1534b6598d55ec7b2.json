{"ast":null,"code":"import _asyncToGenerator from\"/Users/toharayash/Desktop/technion/semester8/iot/iot-web-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/toharayash/Desktop/technion/semester8/iot/iot-web-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/toharayash/Desktop/technion/semester8/iot/iot-web-app/node_modules/@babel/runtime/regenerator/index.js\";import React,{useMemo,useState}from\"react\";import{GoogleAuthProvider,signInWithPopup}from\"firebase/auth\";import{auth}from\"../firebase\";import{LoginPage}from\"./LoginPage\";import{UserApp}from\"./UserApp\";import{getAppTheme}from\"../theme\";import{ThemeProvider}from\"@mui/material\";import CssBaseline from'@mui/material/CssBaseline';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var App=function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var theme=useMemo(function(){return getAppTheme();},[]);var handleSignIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var googleProvier,signRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:googleProvier=new GoogleAuthProvider();_context.next=3;return signInWithPopup(auth,googleProvier);case 3:signRes=_context.sent;setUser(signRes);case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSignIn(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme,children:[/*#__PURE__*/_jsx(CssBaseline,{}),!!user?/*#__PURE__*/_jsx(UserApp,{user:user}):/*#__PURE__*/_jsx(LoginPage,{loginHandler:handleSignIn})]})});};","map":{"version":3,"names":["React","useMemo","useState","GoogleAuthProvider","signInWithPopup","auth","LoginPage","UserApp","getAppTheme","ThemeProvider","CssBaseline","App","user","setUser","theme","handleSignIn","googleProvier","signRes"],"sources":["/Users/toharayash/Desktop/technion/semester8/iot/iot-web-app/src/components/App.tsx"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\nimport { GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport { LoginPage } from \"./LoginPage\";\nimport { UserApp } from \"./UserApp\";\nimport { getAppTheme } from \"../theme\";\nimport { ThemeProvider } from \"@mui/material\";\nimport CssBaseline from '@mui/material/CssBaseline';\n\nexport const App = () => {\n  const [user, setUser] = useState<any>();\n\n  const theme = useMemo(() => getAppTheme(), []);\n\n  const handleSignIn = async () => {\n    const googleProvier = new GoogleAuthProvider();\n    const signRes = await signInWithPopup(auth, googleProvier);\n    setUser(signRes);\n  };\n\n  return (\n    <>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        {!!user ? (\n          <UserApp user={user} />\n        ) : (\n          <LoginPage loginHandler={handleSignIn} />\n        )}\n      </ThemeProvider>\n    </>\n  );\n};\n"],"mappings":"ybAAA,MAAOA,CAAAA,KAAP,EAAgBC,OAAhB,CAAyBC,QAAzB,KAAyC,OAAzC,CACA,OAASC,kBAAT,CAA6BC,eAA7B,KAAoD,eAApD,CACA,OAASC,IAAT,KAAqB,aAArB,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,OAASC,OAAT,KAAwB,WAAxB,CACA,OAASC,WAAT,KAA4B,UAA5B,CACA,OAASC,aAAT,KAA8B,eAA9B,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,C,6IAEA,MAAO,IAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CACvB,cAAwBT,QAAQ,EAAhC,wCAAOU,IAAP,eAAaC,OAAb,eAEA,GAAMC,CAAAA,KAAK,CAAGb,OAAO,CAAC,iBAAMO,CAAAA,WAAW,EAAjB,EAAD,CAAsB,EAAtB,CAArB,CAEA,GAAMO,CAAAA,YAAY,0FAAG,6JACbC,aADa,CACG,GAAIb,CAAAA,kBAAJ,EADH,uBAEGC,CAAAA,eAAe,CAACC,IAAD,CAAOW,aAAP,CAFlB,QAEbC,OAFa,eAGnBJ,OAAO,CAACI,OAAD,CAAP,CAHmB,sDAAH,kBAAZF,CAAAA,YAAY,0CAAlB,CAMA,mBACE,sCACE,MAAC,aAAD,EAAe,KAAK,CAAED,KAAtB,wBACE,KAAC,WAAD,IADF,CAEG,CAAC,CAACF,IAAF,cACC,KAAC,OAAD,EAAS,IAAI,CAAEA,IAAf,EADD,cAGC,KAAC,SAAD,EAAW,YAAY,CAAEG,YAAzB,EALJ,GADF,EADF,CAYD,CAvBM"},"metadata":{},"sourceType":"module"}